<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Game 3D</title>
    <link rel="shortcut icon" href="Multimedia/car_icon3959.png" type="image/x-icon">
</head>

<body>


    <style>

        body {
            margin: 0;
        }

    </style>

    <script src="three.js"></script>
    <script type="module" src="GLTFLoader.js"></script>

    <script type="module">
       

        import { GLTFLoader } from "./GLTFLoader.js"; 

        var scene = new THREE.Scene();
        var camera = new THREE.PerspectiveCamera(
            75, window.innerWidth / window.innerHeight, 0.01, 1000
        )

        var renderer = new THREE.WebGLRenderer()
        renderer.setSize(window.innerWidth, window.innerHeight)
        document.body.appendChild(renderer.domElement)

        var loader = new GLTFLoader()
        var obj;

        loader.load('scene.gltf', function (gltf) { 
            obj = gltf.scene;
            scene.add(gltf.scene);
        });

        scene.background = new THREE.Color(0x200642) 
        var light = new THREE.HemisphereLight(0xffffff, 0x000000, 3); 

        var loader = new THREE.TextureLoader()                // cree un texture loader para poner una imagen de fondo
        loader.load('spaceback.jpg', function(texture){
            scene.background = texture
        })

        scene.add(light);
        camera.position.set(0, 100, 300); 
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);

        }

        animate();

        const step = 10

        document.onkeydown = event => {
            const { key } = event

            //console.log(key)

            if (key === 'ArrowUp')
                obj.position.y += step
            else if (key === 'ArrowDown')
                obj.position.y -= step
            else if (key === 'ArrowLeft')
                obj.position.x -= step
            else if (key === 'ArrowRight')
                obj.position.x += step
            else if (key === 'PageUp')
                obj.position.y += step2
            else if (key === 'PageDown')
                obj.position.y -= step2
        }


    </script>

</body>

</html>